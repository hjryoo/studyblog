# [[plugins]] 섹션 추가 (가장 중요)
# Jekyll의 캐시 폴더를 다음 빌드까지 유지시켜주는 플러그인입니다.
# 이 플러그인이 없으면 --incremental 옵션이 작동하지 않습니다.
[[plugins]]
package = "netlify-plugin-jekyll-cache"

[build]
# 1. 'bundle install' 삭제: Netlify가 알아서 캐싱하여 설치하므로 명령어에서 뺍니다.
# 2. '--incremental' 추가: 변경된 파일만 빌드합니다.
command = "bundle exec jekyll build --incremental"

publish = "_site"

[build.environment]
RUBY_VERSION = "3.4.5"
JEKYLL_ENV = "production"
# Nokogiri 등 무거운 Gem 설치 속도 향상을 위한 옵션
BUNDLE_JOBS = "4"
BUNDLE_RETRY = "3"
